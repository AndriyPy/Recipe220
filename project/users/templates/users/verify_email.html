{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
    body { background: #fffcf7; margin: 0; font-family: 'Inter', sans-serif; }
    .sr-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 50px; background: white; }
    .sr-logo { display: flex; align-items: center; gap: 10px; font-family: 'Playfair Display', serif; font-size: 24px; color: #2b463c; text-decoration: none; font-weight: bold; }
    .sr-logo-icon { background: white; color: #e67e22; padding: 8px; border-radius: 8px; font-size: 18px; }
    .nav-buttons { display: flex; gap: 30px; align-items: center; }
    .login-link { text-decoration: none; color: #2b463c; font-weight: 600; font-size: 14px; text-transform: uppercase; }
    .sign-in-btn { background: #ff8a3d; color: white; padding: 10px 35px; border-radius: 25px; text-decoration: none; font-weight: 600; box-shadow: 0 4px 15px rgba(255,138,61,.3); }
    .verify-wrapper { display: flex; justify-content: center; padding: 60px 0; }
    .verify-card { background: white; width: 100%; max-width: 550px; padding: 50px 40px; border-radius: 50px; box-shadow: 0 15px 40px rgba(0,0,0,.03); text-align: center; }
    .icon-box { background: #2b463c; color: white; width: 55px; height: 55px; border-radius: 14px; display: flex; align-items: center; justify-content: center; margin: 0 auto 30px; font-size: 22px; }
    .verify-card h1 { font-family: 'Playfair Display', serif; color: #2b463c; font-size: 42px; margin-bottom: 20px; }
    .verify-card p { color: #7a7a7a; line-height: 1.6; margin-bottom: 5px; }
    .verify-card strong { color: #3d6e60; }
    .code-input-field { background: #f7f7f7; border: none; border-radius: 25px; padding: 30px; width: 100%; font-size: 48px; letter-spacing: 12px; text-align: center; color: #d1d1d1; margin: 40px 0 30px; transition: .3s ease; }
    .code-input-field:focus { outline: none; color: #2b463c; background: #f0f0f0; }
    .verify-btn { background: #3d6e60; color: white; border: none; border-radius: 15px; padding: 18px; width: 100%; font-weight: 700; font-size: 14px; letter-spacing: 1px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: .3s; }
    .verify-btn:hover { background: #2b463c; transform: translateY(-2px); }
    .simmering-text { font-style: italic; color: #bfbfbf !important; margin-top: 40px !important; font-size: 14px; }
    .menu-link { display: block; margin-top: 50px; color: #2b463c; text-decoration: none; font-weight: 700; font-size: 14px; }
    .errorlist { list-style: none; padding: 0; color: #dc3545; font-size: 13px; margin-top: 5px; }
</style>

<header class="sr-header">
    <a href="/" class="sr-logo">
        <div class="sr-logo-icon"><i class="fa-solid fa-carrot"></i></div>
        SmartRecipe
    </a>
    <div class="nav-buttons">
        <a href="#" class="login-link">LOG IN</a>
        <a href="#" class="sign-in-btn">SIGN IN</a>
    </div>
</header>

<div class="verify-wrapper">
    <div class="verify-card">
        <div class="icon-box"><i class="fa-solid fa-envelope"></i></div>
        <h1>Confirm Your Email</h1>
        <p>We've sent a unique recipe code to</p>
        <p><strong>{{ masked_email|default:"evacherkashyn768@gmail.com" }}</strong>.</p>
        <p>Enter it below to activate your account.</p>

        {% if messages %}{% for message in messages %}<div style="color: #3d6e60; margin-top: 10px;">{{ message }}</div>{% endfor %}{% endif %}

        <form method="post">
            {% csrf_token %}
            {{ form.code }}
            {% if form.code.errors %}{{ form.code.errors }}{% endif %}
            <button type="submit" class="verify-btn">
                VERIFY & EXPLORE <i class="fa-regular fa-circle-check"></i>
            </button>
        </form>

        <p class="simmering-text">Your code is simmering and will be served shortly!</p>
        <a href="/" class="menu-link">Go to main menu</a>
    </div>
</div>

<script>
    const codeInput = document.querySelector('input[name="code"]');
    if (codeInput) {
        codeInput.classList.add('code-input-field');
        codeInput.setAttribute('placeholder', '0 0 0 0 0 0');
        codeInput.setAttribute('maxlength', '6');
    }
</script>
{% endblock %}
